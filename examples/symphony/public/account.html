<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Journey Two</title>
    <link rel="stylesheet" href="stylesheets/style.css" type="text/css" media="screen" title="no title" charset="utf-8">
    
    <script src="javascripts/jquery.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8">
      $(function() {
        
        $.getJSON("/dog/account.status?callback=?", function(result) {
          if (result.logged_in) {
            $("#status").html("Logged In")
          } else {
            $("#status").html("Not Logged In")
          }
        });
        
        $("#account-logout").click(function() {
          $.getJSON("/dog/account.logout?callback=?", $(this).serialize(), function(result) {
            $("#status").html("Not Logged In");
          })
          
          return false;
        })
        
        $("#account-login").submit(function() {
          $.getJSON("/dog/account.login?callback=?", $(this).serialize(), function(result) {
            if (result.success) {
              alert("Logged In")
              $("#status").html("Logged In")
            } else {
              alert(result.errors[0])
            }
          });
          return false;
        });

        $("#create-account").submit(function() {
          $.getJSON("/dog/account.create?callback=?", $(this).serialize(), function(result) {
            if (result.success) {
              alert("Created an account!")
            } else {
              alert(result.errors[0]) 
            }
          });
          return false;
        });
        
      })
    </script>
  </head>
  <body>
    <h1>Account Status: <span id="status"></span></h1>
    
    <h1>Log In</h1>
    <form id="account-login" method="get" action="/dog/account.login" accept-charset="utf-8">
      
      <p>
        <label>Email: </label>
        <input type="text" name="email" value="">
      </p>
      
      <p>
        <label>Password: </label>
        <input type="password" name="password" value="">
      </p>
      
      <p><input type="submit" value="Continue &rarr;"></p>
    </form>
    
    <h1 id="account-logout"><a href="#">Log Out</a></h1>
    
    
    <h1>Create Account</h1>
    <form id="account-create" method="get" action="/dog/account.create" accept-charset="utf-8">
      
      <p>
        <label>Email: </label>
        <input type="text" name="email" value="">
      </p>
      
      <p>
        <label>Password: </label>
        <input type="password" name="password" value="">
      </p>
      
      <p>
        <label>Confirm: </label>
        <input type="password" name="confirm" value="">
      </p>
      
      <p><input type="submit" value="Continue &rarr;"></p>
    </form>
  </body>
</html>